Build vms using terraform updating variables as necessary

## remove previous entries from knownhosts if running this multiple time with same IPs

Copy script into vms:
scp -i "$env:USERPROFILE\.ssh\azure_automation_rsa" setup_jenkins_azure.sh azureuser@<vm1-pubip>:~
scp -i "$env:USERPROFILE\.ssh\azure_automation_rsa" install_awx_kind.sh azureuser@<vm2-pubip>:~

SSH to vm1 Jenkins:
ssh -i "$env:USERPROFILE\.ssh\azure_automation_rsa" azureuser@<vm1-pubip>
chmod +x setup_jenkins_azure.sh
sed -i 's/\r$//' setup_jenkins_azure.sh
./setup_jenkins_azure.sh

SSH to vm2 AWX:
ssh -i "$env:USERPROFILE\.ssh\azure_automation_rsa" azureuser@<vm2-pubip>
chmod +x install_awx_kind.sh
sed -i 's/\r$//' install_awx_kind.sh
./install_awx_kind.sh

watch as it deploys ... sudo tail -n 120 /var/log/awx_install.log

create SP: 
az ad sp create-for-rbac --name "jenkins-####" --role Contributor --scopes /subscriptions/<subscription_id>


azure_sp_client_id >>> appId
azure_sp_client_Secret >>> password
azure_tenant_id >>> tenant
subscription_id >>> azure_subscription_id



Jenkins:

Create a Secret file credential in Jenkins (for the public key)
ID: vm-pubkey-file (as per Jenkinsfile)




